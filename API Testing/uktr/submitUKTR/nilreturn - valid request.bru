meta {
  name: "4. Submit UKTR nilreturn - valid request"
  type: http
  seq: 4
}

post {
  url: {{baseUrl}}/RESTAdapter/PLR/UKTaxReturn
  body: json
  auth: none
}

headers {
  Content-Type: application/json
  Authorization: {{validBearerToken}}
  X-Pillar2-Id: {{nonDomesticPlrId}}
}

body:json {
  {
    "accountingPeriodFrom": "2024-01-01",
    "accountingPeriodTo": "2024-03-31",
    "obligationMTT": true,
    "electionUKGAAP": false,
    "returnType": "NIL_RETURN",
    "liabilities": {
      "returnType": "NIL_RETURN"
    }
  }
}

assert {
  res.status: eq 201
  res.body.success: isDefined
  res.body.success.processingDate: isDefined
  res.body.success.formBundleNumber: isDefined
} 